# Симулятор не обновляется — что делать

Если изменения в коде не появляются в Xcode Simulator, сделайте по шагам:

## 1. Полная очистка кэша и перезапуск

В терминале в папке проекта:

```bash
npm run reset-cache
```

Дождитесь запуска Metro. Когда появится меню (с буквами i, a, r…), нажмите **`i`** — откроется симулятор и подцепится к серверу с чистым кэшем.

## 2. Если всё равно не обновляется

1. **Остановите Metro** в терминале (Ctrl+C).
2. **Закройте приложение в симуляторе** (свайп вверх и закрыть).
3. Выполните вручную:

```bash
rm -rf $TMPDIR/metro-* $TMPDIR/haste-map-*
npx expo start --clear
```

4. Когда Metro запустится — снова нажмите **`i`** в терминале.
5. Дождитесь загрузки приложения в симуляторе и проверьте изменения.

## 3. Принудительная перезагрузка в симуляторе

- **Cmd + R** — полная перезагрузка приложения (Reload).
- В терминале Metro нажмите **`r`** — то же самое.

## 4. Если используете Development Build (expo run:ios)

Важно: сначала должен быть запущен Metro, потом открыто приложение.

1. Запустите: `npm run dev` (или `npm run reset-cache`).
2. **После** появления меню Metro нажмите **`i`** или откройте уже собранное приложение в симуляторе.
3. Приложение должно подключиться к Metro — в заголовке окна Metro будет что-то вроде "Connected". Тогда Fast Refresh будет работать.

Если собираете заново через `npx expo run:ios`, после сборки Metro обычно поднимается сам; если симулятор открывали старым билдом — закройте приложение и откройте снова после `npm run dev`.

## 5. Кратко

| Проблема | Действие |
|----------|----------|
| Не видно правок в коде | `npm run reset-cache` → нажать `i` |
| Всё ещё старый экран | Закрыть приложение в симуляторе, снова `i` после `npm run reset-cache` |
| Нужна полная перезагрузка | В симуляторе **Cmd+R** или в терминале Metro нажать **`r`** |
